-- ===============================
-- V2__insert_test_data.sql
-- 测试数据插入脚本 - 包含所有表的完整测试数据
-- ===============================

-- ========================================
-- 1. 部门表测试数据
-- ========================================
INSERT INTO department (org_name) VALUES
('技术部'),
('市场部'),
('人力资源部'),
('财务部');

-- ========================================
-- 2. 员工表测试数据
-- ========================================
INSERT INTO employee (org_id, employee_name, phone, gender, email, position, emp_password) VALUES
(NULL, 'admin', '13900000000', 1, 'admin@test.com', 0, 'admin'),
(NULL, '张伟', '13800000001', 1, 'ceo@test.com', 0, '123456'),
(1, '李强', '13800000002', 1, 'tech_mgr@test.com', 1, '123456'),
(2, '王芳', '13800000003', 0, 'market_mgr@test.com', 1, '123456'),
(3, '刘洋', '13800000004', 1, 'hr_mgr@test.com', 1, '123456'),
(4, '陈敏', '13800000005', 0, 'finance_mgr@test.com', 1, '123456'),
(1, '赵磊', '13800000006', 1, 'tech_lead@test.com', 2, '123456'),
(2, '陈静', '13800000007', 0, 'market_lead@test.com', 2, '123456'),
(3, '周杰', '13800000008', 1, 'hr_lead@test.com', 2, '123456'),
(4, '吴娜', '13800000009', 0, 'finance_lead@test.com', 2, '123456'),
(1, '孙浩', '13800000010', 1, 'tech_emp@test.com', 3, '123456'),
(2, '刘颖', '13800000011', 0, 'market_emp@test.com', 3, '123456'),
(3, '郑强', '13800000012', 1, 'hr_emp@test.com', 3, '123456'),
(4, '黄丽', '13800000013', 0, 'finance_emp@test.com', 3, '123456'),
(1, '张三', '13800000014', 1, 'zhangsan@test.com', 3, '123456'),
(1, '李四', '13800000015', 0, 'lisi@test.com', 3, '123456'),
(2, '王五', '13800000016', 1, 'wangwu@test.com', 3, '123456'),
(2, '赵六', '13800000017', 0, 'zhaoliu@test.com', 3, '123456'),
(3, '孙七', '13800000018', 1, 'sunqi@test.com', 3, '123456'),
(4, '周八', '13800000019', 0, 'zhouba@test.com', 3, '123456');

-- ========================================
-- 3. 团队表测试数据
-- ========================================
INSERT INTO team (org_id, team_name) VALUES
(1, '技术团队'),
(2, '市场团队'),
(3, '人力资源团队'),
(4, '财务团队');

-- ========================================
-- 4. 员工团队关系表测试数据
-- ========================================
INSERT INTO employee_team (employee_id, team_id, is_leader) VALUES
(7, 1, 1), (11, 1, 0), (15, 1, 0), (16, 1, 0),
(8, 2, 1), (12, 2, 0), (17, 2, 0), (18, 2, 0),
(9, 3, 1), (13, 3, 0), (19, 3, 0),
(10, 4, 1), (14, 4, 0), (20, 4, 0);

-- ========================================
-- 5. 项目表测试数据
-- ========================================
INSERT INTO project (title, content, start_time, end_time, project_status, sender_id, team_id) VALUES
('企业管理系统开发', '开发一套完整的企业管理系统', '2025-10-01 09:00:00', '2025-12-31 18:00:00', 1, 2, 1),
('Q4市场推广计划', 'Q4季度市场推广活动策划与执行', '2025-10-01 09:00:00', '2025-12-31 18:00:00', 1, 2, 2),
('年度招聘计划', '2025年度人才招聘计划', '2025-01-01 09:00:00', '2025-12-31 18:00:00', 1, 2, 3),
('移动端APP开发', '开发企业管理系统的移动端应用', '2025-11-15 09:00:00', '2026-03-31 18:00:00', 1, 2, 1);

-- ========================================
-- 6. 里程碑表测试数据
-- ========================================
INSERT INTO milestone (title, content, project_id) VALUES
('需求分析完成', '完成系统需求分析和设计', 1),
('原型设计完成', '完成系统原型设计', 1),
('开发阶段完成', '完成系统开发工作', 1),
('测试阶段完成', '完成系统测试工作', 1),
('市场调研完成', '完成市场调研报告', 2),
('推广方案完成', '完成推广方案设计', 2),
('UI设计阶段', '完成移动端UI设计', 4),
('功能开发阶段', '完成核心功能开发', 4),
('测试上线阶段', '完成测试并上线', 4);

-- ========================================
-- 7. 任务表测试数据
-- ========================================
INSERT INTO task (title, content, start_time, end_time, task_status, task_priority, assignee_id, sender_id, task_type, milestone_id) VALUES
('数据库设计', '设计系统数据库表结构', '2025-10-10 09:00:00', '2025-10-20 18:00:00', 1, 2, 11, 7, 1, 1),
('API接口开发', '开发系统核心API接口', '2025-10-21 09:00:00', '2025-11-10 18:00:00', 0, 2, 11, 7, 1, 3),
('前端页面开发', '开发系统前端页面', '2025-11-01 09:00:00', '2025-11-20 18:00:00', 0, 1, 11, 7, 1, 3),
('市场调研', '进行市场调研分析', '2025-10-01 09:00:00', '2025-10-15 18:00:00', 2, 2, 12, 8, 1, 5),
('推广文案撰写', '撰写产品推广文案', '2025-10-16 09:00:00', '2025-10-25 18:00:00', 1, 1, 12, 8, 1, 6),
('广告投放', '执行线上广告投放', '2025-11-01 09:00:00', '2025-11-30 18:00:00', 0, 2, 12, 8, 1, 6),
('招聘需求收集', '收集各部门招聘需求', '2025-10-01 09:00:00', '2025-10-10 18:00:00', 2, 1, 13, 9, 1, NULL),
('简历筛选', '筛选候选人简历', '2025-10-11 09:00:00', '2025-10-20 18:00:00', 1, 1, 13, 9, 1, NULL),
('月度财务报表', '编制10月份财务报表', '2025-11-01 09:00:00', '2025-11-05 18:00:00', 0, 2, 14, 10, 1, NULL),
('预算审核', '审核各部门预算申请', '2025-10-15 09:00:00', '2025-10-20 18:00:00', 2, 1, 14, 10, 1, NULL),
('移动端UI设计', '设计移动端应用的UI界面，包含所有核心页面', '2025-11-15 09:00:00', '2025-11-20 18:00:00', 1, 2, 15, 7, 1, 7),
('移动端功能开发', '开发移动端核心功能模块', '2025-11-21 09:00:00', '2025-12-10 18:00:00', 0, 2, 16, 7, 1, 8),
('移动端测试', '进行移动端功能测试和优化', '2025-12-11 09:00:00', '2025-12-20 18:00:00', 0, 1, 15, 7, 1, 9);

-- ========================================
-- 8. 日志表测试数据
-- ========================================
INSERT INTO log (employee_id, task_id, created_time, content, emoji, employee_location) VALUES
(11, 1, '2025-10-11 10:00:00', '完成了用户表和角色表的设计', 1, '上海'),
(11, 1, '2025-10-15 14:30:00', '数据库设计已完成,开始进行评审', 2, '上海'),
(11, 2, '2025-10-22 09:00:00', '开始API接口开发,完成了登录接口', 1, '上海'),
(12, 4, '2025-10-08 11:00:00', '市场调研报告已完成,发现了新的市场机会', 2, '北京'),
(12, 5, '2025-10-20 15:00:00', '推广文案初稿已完成,等待审核', 1, '北京'),
(13, 7, '2025-10-05 10:00:00', '收集到技术部和市场部的招聘需求', 1, '深圳'),
(13, 8, '2025-10-15 16:00:00', '筛选了50份简历,初步确定10位候选人', 1, '深圳'),
(14, 10, '2025-10-18 14:00:00', '完成了市场部的预算审核', 2, '广州'),
(15, 1, '2025-11-15 09:30:00', '开始移动端UI设计，研究了Material Design规范', 1, '北京'),
(15, 1, '2025-11-16 10:00:00', '完成了登录和注册页面的设计', 2, '北京'),
(15, 1, '2025-11-17 14:30:00', '设计了主页和任务列表页面', 1, '北京'),
(16, 2, '2025-11-21 09:00:00', '开始移动端开发，搭建了React Native项目', 1, '北京'),
(16, 2, '2025-11-22 10:30:00', '完成了用户登录和注册功能', 2, '北京'),
(17, 1, '2025-11-12 09:00:00', '完成了市场调研问卷设计', 1, '上海'),
(17, 1, '2025-11-13 14:00:00', '收集了100份有效问卷', 2, '上海');

-- ========================================
-- 9. 重要事项表测试数据
-- ========================================
INSERT INTO important_matter (title, content, department_id, publish_time) VALUES
('Q4季度财务报告', '完成Q4季度财务报告的编写和审核工作,确保数据准确无误', 4, '2025-11-01 09:00:00'),
('年度总结会议', '准备年度总结会议的相关材料和议程,总结本年度工作成果', 3, '2025-11-02 10:30:00'),
('新产品发布计划', '制定新产品发布计划,包括市场调研、产品定位、营销策略等', 2, '2025-11-03 14:00:00'),
('员工培训安排', '组织员工技能培训,提升团队整体能力和专业水平', 3, '2025-11-04 15:30:00'),
('系统安全升级', '进行系统安全漏洞修复和升级,确保数据安全', 1, '2025-11-05 11:00:00'),
('客户满意度调查', '开展客户满意度调查,收集反馈意见,优化服务质量', 2, '2025-11-06 16:00:00'),
('办公环境改善', '改善办公环境,提升员工工作舒适度和效率', 3, '2025-11-07 09:30:00'),
('移动端项目启动会', '移动端APP开发项目正式启动，技术部全员参与', 1, '2025-11-15 09:00:00'),
('年终总结准备', '各部门开始准备年终总结材料', NULL, '2025-11-20 10:00:00');

-- ========================================
-- 10. 重要任务表测试数据
-- ========================================
INSERT INTO important_task (employee_id, task_content, deadline, task_status, task_priority, serial_num) VALUES
(11, '完成企业管理系统核心模块开发', '2025-11-30 18:00:00', 1, 2, 1),
(12, '完成Q4市场推广方案并执行', '2025-12-15 18:00:00', 1, 2, 2),
(13, '完成年度招聘计划并招聘到位', '2025-12-31 18:00:00', 0, 1, 3),
(14, '完成年度财务审计工作', '2025-12-20 18:00:00', 0, 2, 4),
(7, '完成技术团队季度考核', '2025-11-15 18:00:00', 1, 1, 5),
(8, '完成市场部季度业绩目标', '2025-11-30 18:00:00', 1, 2, 6),
(9, '完成员工满意度调查', '2025-11-10 18:00:00', 2, 1, 7),
(10, '完成预算执行情况分析', '2025-11-25 18:00:00', 0, 1, 8),
(15, '完成移动端UI设计，确保用户体验优秀', '2025-11-20 18:00:00', 1, 2, 9),
(16, '完成移动端核心功能开发', '2025-12-10 18:00:00', 0, 2, 10);

-- ========================================
-- 11. 通知表测试数据
-- ========================================
INSERT INTO notice (sender_id, notice_type, content, created_time, related_id) VALUES
(2, 1, '全体员工请注意:下周一上午10点召开全员大会,请准时参加', '2025-11-01 09:00:00', NULL),
(3, 2, '技术部员工请注意:本周五下午进行技术分享会', '2025-11-02 10:00:00', NULL),
(4, 1, '市场部员工请注意:本月销售目标已更新,请查看', '2025-11-03 11:00:00', NULL),
(5, 3, '人力资源部通知:年度体检安排已出,请各部门配合', '2025-11-04 14:00:00', NULL),
(7, 1, '【项目启动】移动端APP开发项目正式启动，技术团队请做好准备', '2025-11-15 09:00:00', 4),
(7, 2, '【技术部通知】张三、李四请注意查看新分配的移动端开发任务', '2025-11-15 10:00:00', 11),
(8, 2, '【市场部通知】王五、赵六请协助完成Q4市场推广活动', '2025-11-16 09:00:00', 2);

-- ========================================
-- 12. 通知员工关系表测试数据
-- ========================================
INSERT INTO notice_employee (notice_id, receiver_id, notice_status) VALUES
(1, 1, 1), (1, 2, 1), (1, 3, 1), (1, 4, 1), (1, 5, 1), (1, 6, 1),
(1, 7, 0), (1, 8, 0), (1, 9, 0), (1, 10, 0), (1, 11, 0), (1, 12, 0), (1, 13, 0), (1, 14, 0),
(2, 3, 1), (2, 7, 1), (2, 11, 0),
(3, 4, 1), (3, 8, 1), (3, 12, 0),
(4, 1, 1), (4, 2, 1), (4, 3, 0), (4, 4, 0), (4, 5, 0), (4, 6, 0),
(5, 7, 0), (5, 11, 0), (5, 15, 0), (5, 16, 0),
(6, 15, 0), (6, 16, 0),
(7, 17, 0), (7, 18, 0);

-- ========================================
-- 13. 刷新令牌表测试数据
-- ========================================
INSERT INTO refresh_token (user_id, refresh_token, status, created_at, expires_at) VALUES
(1, 'refresh_token_admin_001', 'ACTIVE', '2025-11-01 10:00:00', '2025-12-01 10:00:00'),
(2, 'refresh_token_ceo_001', 'ACTIVE', '2025-11-02 09:00:00', '2025-12-02 09:00:00'),
(11, 'refresh_token_emp_001', 'USED', '2025-10-15 14:00:00', '2025-11-15 14:00:00');

-- ========================================
-- 测试数据说明
-- ========================================
-- 1. 员工数据:
--    - admin (employee_id=1, phone=13900000000, password=admin) - 管理员
--    - 张伟 (employee_id=2, phone=13800000001, password=123456) - CEO
--    - 李强 (employee_id=3, phone=13800000002, password=123456) - 技术部经理
--    - 王芳 (employee_id=4, phone=13800000003, password=123456) - 市场部经理
--    - 刘洋 (employee_id=5, phone=13800000004, password=123456) - 人力资源部经理
--    - 陈敏 (employee_id=6, phone=13800000005, password=123456) - 财务部经理
--    - 赵磊 (employee_id=7, phone=13800000006, password=123456) - 技术团队长
--    - 陈静 (employee_id=8, phone=13800000007, password=123456) - 市场团队长
--    - 周杰 (employee_id=9, phone=13800000008, password=123456) - 人力资源团队长
--    - 吴娜 (employee_id=10, phone=13800000009, password=123456) - 财务团队长
--    - 孙浩 (employee_id=11, phone=13800000010, password=123456) - 技术部员工
--    - 刘颖 (employee_id=12, phone=13800000011, password=123456) - 市场部员工
--    - 郑强 (employee_id=13, phone=13800000012, password=123456) - 人力资源部员工
--    - 黄丽 (employee_id=14, phone=13800000013, password=123456) - 财务部员工
--    - 张三 (employee_id=15, phone=13800000014, password=123456) - 技术部员工
--    - 李四 (employee_id=16, phone=13800000015, password=123456) - 技术部员工
--    - 王五 (employee_id=17, phone=13800000016, password=123456) - 市场部员工
--    - 赵六 (employee_id=18, phone=13800000017, password=123456) - 市场部员工
--    - 孙七 (employee_id=19, phone=13800000018, password=123456) - 人力资源部员工
--    - 周八 (employee_id=20, phone=13800000019, password=123456) - 财务部员工
--
-- 2. 项目数据:
--    - 企业管理系统开发 (project_id=1)
--    - Q4市场推广计划 (project_id=2)
--    - 年度招聘计划 (project_id=3)
--    - 移动端APP开发 (project_id=4)
--
-- 3. 里程碑数据:
--    - 项目1有4个里程碑
--    - 项目2有2个里程碑
--    - 项目4有3个里程碑
--
-- 4. 任务数据:
--    - 共13个任务，涵盖各个项目和里程碑
--
-- 5. 日志数据:
--    - 共15条日志，记录员工的工作进展
--
-- 6. 注意事项:
--    - log_attachment 表通常由应用程序上传文件时填充，这里不插入测试数据
